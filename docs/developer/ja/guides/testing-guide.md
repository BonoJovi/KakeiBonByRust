# テストガイド（コントリビューター向け）

**バージョン**: 1.0
**最終更新**: 2025-12-04
**対象読者**: テスター（プログラミング経験不要）

---

## 📋 目次

- [概要](#概要)
- [なぜあなたのテストが重要なのか](#なぜあなたのテストが重要なのか)
- [はじめに](#はじめに)
- [プラットフォーム別テスト](#プラットフォーム別テスト)
- [テストシナリオ](#テストシナリオ)
- [問題の報告方法](#問題の報告方法)
- [テストチェックリスト](#テストチェックリスト)
- [よくある質問](#よくある質問)

---

## 概要

KakeiBonのテストに興味を持っていただき、ありがとうございます！テスターとして、あなたは異なるプラットフォーム全体でKakeiBonの品質と信頼性を向上させる上で重要な役割を果たします。

### 現在のテスト状況

| プラットフォーム | 状態 | 優先度 |
|-----------------|------|--------|
| **Linux** | ✅ 検証済み | 低（十分にテスト済み） |
| **Windows** | ⚠️ テストが必要 | **高** |
| **macOS** | ⚠️ テストが必要 | **高** |

**特にWindowsとmacOSのテスターを求めています！**

---

## なぜあなたのテストが重要なのか

### テストの価値

1. **実際の使用環境**: 実環境でKakeiBonをテスト
2. **プラットフォームカバレッジ**: Windows/macOSの互換性検証を支援
3. **ユーザー視点**: 開発者が見逃すかもしれないUX問題を発見
4. **品質保証**: バグが他のユーザーに届くのを防ぐ

### プログラミング不要

プログラミングスキルは不要です！以下ができれば：
- アプリケーションのインストールと実行
- 段階的な手順に従う
- 見たことと起きたことを説明する
- スクリーンショットを撮る

**価値あるテスターになれます！**

---

## はじめに

### 前提条件

#### 必要なもの

1. **コンピュータ**（Windows、macOS、またはLinux）
2. **基本的なコンピュータスキル**（アプリのインストール、スクリーンショットの撮影）
3. **30〜60分**の初期テスト時間
4. **忍耐力**と注意深さ

#### インストールするもの

- **ビルドツール**（ソースからKakeiBonをコンパイルするため）
- **KakeiBon**（テストするアプリ）

### インストール

プラットフォーム別のインストールガイドに従ってください：

- **[Windows インストール](../../../user/ja/installation.md#windows)**
- **[macOS インストール](../../../user/ja/installation.md#macos)**
- **[Linux インストール](../../../user/ja/installation.md#linux)**

### テスト開始前に

1. **クイックスタートガイドを読む**
   - [クイックスタートガイド](../../../user/ja/quick-start.md)
   - KakeiBonの基本機能を理解

2. **テスト環境を準備**
   - テストユーザーアカウントを使用（実データではなく）
   - メモ帳やテキストファイルを用意
   - スクリーンショットツールを準備

3. **テストコミュニティに参加**
   - [テストフィードバックIssueを提出](https://github.com/BonoJovi/KakeiBonByRust/issues/new?template=testing-feedback.yml)
   - 自己紹介とテスト環境を共有

---

## プラットフォーム別テスト

### Windowsテスト（高優先度）

#### 報告する環境情報

```
OSバージョン: Windows 11 23H2（またはWindows 10 22H2）
CPU: Intel Core i7-12700K（または使用しているCPU）
RAM: 16GB（または使用しているRAM）
ディスプレイ: 1920x1080（または解像度）
```

#### 既知の考慮事項

- **WebView2**: Windows上のTauriアプリに必要
- **権限**: インストールに管理者権限が必要な場合がある
- **アンチウイルス**: 一部のアンチウイルスソフトがTauriアプリをフラグする場合がある

#### 重要なテストエリア

1. **インストール**
   - ビルドプロセスは完了するか？
   - アプリを起動できるか？

2. **ファイルシステム**
   - データベースの場所: `%APPDATA%\KakeiBon\`
   - アプリはファイルを作成・アクセスできるか？

3. **UIレンダリング**
   - フォントは正しく表示されるか？
   - ウィンドウコントロールは機能するか？
   - UIはDPI設定に応じて適切にスケールするか？

---

### macOSテスト（高優先度）

#### 報告する環境情報

```
OSバージョン: macOS 14.2 Sonoma（または使用しているmacOSバージョン）
ハードウェア: MacBook Pro (M2) または iMac (Intel)
RAM: 16GB（または使用しているRAM）
ディスプレイ: 2560x1600（または解像度）
```

#### 既知の考慮事項

- **Apple Silicon vs Intel**: 異なるビルドプロセス
- **Gatekeeper**: 署名されていないアプリを許可する必要がある場合がある
- **権限**: データベースアクセスを許可する必要がある場合がある

#### 重要なテストエリア

1. **インストール**
   - Homebrewセットアップは機能するか？
   - ビルドツールは正しくインストールされるか？

2. **ファイルシステム**
   - データベースの場所: `~/Library/Application Support/KakeiBon/`
   - ファイルの読み書き権限

3. **UIレンダリング**
   - Retinaディスプレイの互換性
   - メニューバーの統合
   - ウィンドウ管理

---

### Linuxテスト（低優先度）

Linuxは既に十分にテストされていますが、追加のテストも価値があります！

#### 報告する環境情報

```
ディストリビューション: Ubuntu 24.04（または使用しているディストロ）
デスクトップ環境: GNOME 46（または使用しているDE）
ディスプレイサーバー: Wayland（またはX11）
```

#### テストエリア

- 異なるディストリビューション（Fedora、Archなど）
- 異なるデスクトップ環境（KDE、XFCEなど）
- WaylandとX11

---

## テストシナリオ

### シナリオ1: 初回起動（重要）

**目標**: アプリが起動し、初期設定が機能することを確認

**手順**:
1. KakeiBonを起動
2. スタートアップ画面を観察
3. 管理者ユーザーを作成
4. 新しいユーザーでログイン

**期待される結果**:
- アプリがエラーなく起動
- UIが正しく表示される
- ユーザー作成が成功
- ログインが成功

**以下の場合は報告**:
- アプリがクラッシュまたはフリーズ
- UI要素がずれている
- ユーザー作成が失敗
- ログインが失敗

---

### シナリオ2: ユーザー管理

**目標**: ユーザーの作成、編集、削除をテスト

**手順**:
1. 管理者としてログイン
2. ユーザー管理に移動
3. 新しいユーザーを作成（非管理者）
4. ユーザー情報を編集
5. ユーザーを削除しようとする
6. ログアウトして新しいユーザーでログイン

**期待される結果**:
- すべての操作が正常に完了
- UIの更新が変更を反映
- 新しいユーザーがログインできる

**以下の場合は報告**:
- 操作が失敗またはフリーズ
- UIが更新されない
- データの不整合

---

### シナリオ3: 口座管理

**目標**: 口座の作成と管理をテスト

**手順**:
1. 口座管理に移動
2. 新しい口座を作成（例：「銀行口座」）
3. 初期残高を設定
4. 口座を編集
5. 口座詳細を表示

**期待される結果**:
- 口座が正常に作成される
- 残高が正しく保存される
- 変更が永続化される

**以下の場合は報告**:
- 口座作成が失敗
- 残高が不正確
- 変更が失われる

---

### シナリオ4: 費目管理

**目標**: 3階層費目システムをテスト

**手順**:
1. 費目管理に移動
2. 既存の費目を表示
3. 新しい費目を作成（可能な場合）
4. 費目名を編集
5. 言語切替をテスト（日本語 ↔ 英語）

**期待される結果**:
- 費目が正しく表示される
- 言語切替が機能する
- 日本語と英語の名前が適切に表示される

**以下の場合は報告**:
- 費目が表示されない
- 言語切替が失敗
- 日本語文字が表示されない

---

### シナリオ5: 入出金入力（重要）

**目標**: コア機能—入出金の入力をテスト

**手順**:
1. 入出金入力に移動
2. 新しい入出金を作成:
   - 日付を選択
   - 口座を選択
   - 費目を選択
   - 金額を入力
   - 説明を追加
3. 入出金明細を追加（品目）:
   - 店舗を選択
   - 商品を選択
   - 数量と単価を入力
4. 入出金を保存
5. 入出金リストを表示

**期待される結果**:
- すべてのフォームフィールドが正しく機能
- ドロップダウンにデータが表示される
- 計算が正確
- 入出金が保存されリストに表示される

**以下の場合は報告**:
- フォームフィールドが機能しない
- ドロップダウンが空
- 計算が間違っている
- 入出金が保存されない

---

### シナリオ6: データの永続性

**目標**: データが保存され、アプリ再起動後も保持されることを確認

**手順**:
1. テストデータを作成（ユーザー、口座、入出金）
2. アプリを完全に閉じる
3. アプリを再起動
4. ログイン
5. すべてのデータがまだ存在することを確認

**期待される結果**:
- すべてのデータが永続化
- データ損失なし

**以下の場合は報告**:
- データが失われる
- データベースエラーが発生

---

### シナリオ7: 言語切替

**目標**: 国際化をテスト

**手順**:
1. ログイン
2. 設定に移動
3. 言語を変更（日本語 → 英語、またはその逆）
4. 異なる画面を移動
5. すべてのテキストが翻訳されていることを確認

**期待される結果**:
- 言語が即座に変更される
- すべてのUI要素が更新される
- 未翻訳のテキストがない

**以下の場合は報告**:
- 言語が変更されない
- 一部のテキストが古い言語のまま
- 切替後にUIが壊れる

---

### シナリオ8: フォントサイズ調整

**目標**: アクセシビリティ機能をテスト

**手順**:
1. 設定に移動
2. フォントサイズを変更（100% → 150% → 200%）
3. 異なる画面を移動
4. 読みやすさを確認

**期待される結果**:
- フォントサイズの変更が即座に適用される
- UIが適切にスケールする
- テキストのオーバーフローや切り捨てがない

**以下の場合は報告**:
- フォントサイズが変更されない
- UIが壊れるまたは重なる
- テキストが切り取られる

---

### シナリオ9: バックアップと復元

**目標**: データバックアップ機能をテスト

**手順**:
1. テストデータを作成
2. データベースファイルを見つける:
   - Windows: `%APPDATA%\KakeiBon\KakeiBonDB.sqlite3`
   - macOS: `~/Library/Application Support/KakeiBon/KakeiBonDB.sqlite3`
   - Linux: `~/.local/share/KakeiBon/KakeiBonDB.sqlite3`
3. データベースファイルをバックアップ場所にコピー
4. アプリ内でデータを変更または削除
5. アプリを閉じる
6. バックアップファイルを復元
7. アプリを再起動
8. データが復元されていることを確認

**期待される結果**:
- データベースファイルを見つけられる
- バックアップと復元が正しく機能
- データが完全に復元される

**以下の場合は報告**:
- データベースファイルを見つけられない
- 復元が機能しない
- データ破損

---

### シナリオ10: ストレステスト

**目標**: 大量データでのパフォーマンスをテスト

**手順**:
1. 多数のレコードを作成:
   - 10+口座
   - 100+入出金
2. リストを移動
3. フィルタと検索を使用
4. パフォーマンスを観察

**期待される結果**:
- アプリが応答性を保つ
- リストが素早く読み込まれる
- クラッシュやフリーズがない

**以下の場合は報告**:
- アプリが著しく遅くなる
- リストの読み込みに時間がかかりすぎる
- 大量データでアプリがクラッシュ

---

## 問題の報告方法

### バグレポートに含めるべき内容

1. **プラットフォームと環境**
   ```
   OS: Windows 11 23H2
   CPU: Intel Core i7
   RAM: 16GB
   ディスプレイ: 1920x1080
   KakeiBonバージョン: v1.0.1
   ```

2. **再現手順**
   ```
   1. アプリを起動
   2. 入出金入力に移動
   3. データを入力せずに「保存」をクリック
   4. アプリがクラッシュ
   ```

3. **期待される結果 vs 実際の結果**
   ```
   期待: バリデーションエラーメッセージ
   実際: アプリが完全にクラッシュ
   ```

4. **スクリーンショットまたはビデオ**
   - 問題を示すスクリーンショットを添付
   - 画面録画があればさらに良い！

5. **エラーメッセージまたはログ**
   - エラーメッセージをコピー
   - コンソールログを確認（該当する場合）

### 提出方法

**方法1: GitHub Issue（推奨）**

1. [Issues](https://github.com/BonoJovi/KakeiBonByRust/issues)にアクセス
2. 「New Issue」をクリック
3. 「Testing Feedback」を選択
4. すべてのフィールドを記入
5. 提出

**方法2: Email**

送信先: [bonojovi@zundou.org](mailto:bonojovi@zundou.org)
- 件名: `[Testing] [プラットフォーム]での問題`
- 上記のすべての情報を含める

---

## テストチェックリスト

テストの進捗を追跡するためにこのチェックリストを使用してください：

### ✅ インストールとセットアップ
- [ ] ソースからのビルドに成功
- [ ] アプリがエラーなく起動
- [ ] 初期管理者ユーザーを作成
- [ ] 正しい場所にデータベースファイルを作成

### ✅ ユーザー管理
- [ ] 管理者ユーザーログイン
- [ ] 新しいユーザーを作成
- [ ] ユーザーを編集
- [ ] ユーザーを削除
- [ ] 非管理者ユーザーログイン
- [ ] ユーザー権限が正しく機能

### ✅ マスターデータ管理
- [ ] 口座の作成/編集
- [ ] 費目の閲覧
- [ ] 店舗の作成/編集
- [ ] メーカーの作成/編集
- [ ] 商品の作成/編集

### ✅ 入出金管理
- [ ] 入出金を作成
- [ ] 入出金明細を追加
- [ ] 入出金を編集
- [ ] 入出金を削除
- [ ] 入出金をフィルタ
- [ ] ページネーションが機能

### ✅ UI/UX
- [ ] すべてのボタンが機能
- [ ] フォームが入力を検証
- [ ] ドロップダウンが正しく表示される
- [ ] 日付ピッカーが機能
- [ ] テーブルがデータを正しく表示
- [ ] モーダル/ダイアログが適切に機能

### ✅ 国際化
- [ ] 言語切替（日本語 ↔ 英語）
- [ ] すべてのテキストが翻訳される
- [ ] 日本語文字が正しく表示される
- [ ] 未翻訳の文字列がない

### ✅ 設定
- [ ] フォントサイズ調整（100%、150%、200%）
- [ ] 言語設定が保存される
- [ ] 設定が再起動後も保持される

### ✅ データの永続性
- [ ] データが正しく保存される
- [ ] アプリ再起動後もデータが保持される
- [ ] データベースの整合性が維持される

### ✅ パフォーマンス
- [ ] アプリが応答性を保つ
- [ ] フリーズやハングがない
- [ ] 大量データを処理できる
- [ ] メモリリークがない

---

## よくある質問

### Q: バグを見つけました。既知ですか？

**A**: まず[既存のIssue](https://github.com/BonoJovi/KakeiBonByRust/issues)を確認してください。見つからない場合は報告してください！

### Q: どのくらいのテストが期待されていますか？

**A**: 貢献できる範囲で！単一のシナリオをテストするだけでも価値があります。

### Q: 仮想マシンでテストできますか？

**A**: はい、ただし報告時にその旨を記載してください。実機でのテストが望ましいです。

### Q: すべてをテストする時間がない場合は？

**A**: **高優先度**とマークされたエリアまたは**重要**とマークされたシナリオに焦点を当ててください。

### Q: 実データでテストすべきですか？

**A**: **いいえ！** 常にテストデータを使用してください。テスト中に実際の財務情報を使用しないでください。

### Q: テストを自動化できますか？

**A**: 現時点では手動テストが望ましいですが、自動化の貢献も歓迎します！

### Q: テストの貢献はどのように認められますか？

**A**: テスターはCHANGELOG.mdとコントリビューターセクションで認識されます。

---

## 追加リソース

- **[コントリビューションガイド](../../../../CONTRIBUTING.md)**
- **[翻訳ガイド](translation-guide.md)**
- **[インストールガイド](../../../user/ja/installation.md)**
- **[クイックスタートガイド](../../../user/ja/quick-start.md)**
- **[テストフィードバックを提出](https://github.com/BonoJovi/KakeiBonByRust/issues/new?template=testing-feedback.yml)**

---

## サポートが必要ですか？

- **GitHub Issues**: [テストディスカッション](https://github.com/BonoJovi/KakeiBonByRust/issues?q=label%3Atesting)
- **Email**: [bonojovi@zundou.org](mailto:bonojovi@zundou.org)

---

**KakeiBonの品質向上にご協力いただきありがとうございます！**

あなたのテスト貢献が、KakeiBonをみんなにとってより良いものにします。

**- KakeiBonチーム**
