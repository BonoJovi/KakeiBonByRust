<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Addition Validation Tests</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background-color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-result {
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
        }
        .test-pass {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .test-fail {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        h1 {
            color: #333;
        }
        h2 {
            color: #666;
            margin-top: 0;
        }
        .summary {
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>User Addition Validation Tests</h1>
    
    <div id="test-results"></div>
    <div id="test-summary" class="summary"></div>

    <script>
        // Simple test framework
        let totalTests = 0;
        let passedTests = 0;
        let failedTests = 0;
        let currentSuite = '';
        let currentResults = [];

        function describe(suiteName, suiteFunc) {
            const oldSuite = currentSuite;
            currentSuite = suiteName;
            const suiteResults = [];
            const oldResults = currentResults;
            currentResults = suiteResults;
            
            suiteFunc();
            
            // Display results for this suite
            if (suiteResults.length > 0) {
                displaySuiteResults(suiteName, suiteResults);
            }
            
            currentResults = oldResults;
            currentSuite = oldSuite;
        }

        function test(testName, testFunc) {
            totalTests++;
            try {
                testFunc();
                passedTests++;
                currentResults.push({
                    name: testName,
                    passed: true,
                    error: null
                });
            } catch (error) {
                failedTests++;
                currentResults.push({
                    name: testName,
                    passed: false,
                    error: error.message
                });
            }
        }

        function expect(actual) {
            return {
                toBe: function(expected) {
                    if (actual !== expected) {
                        throw new Error(`Expected ${JSON.stringify(expected)} but got ${JSON.stringify(actual)}`);
                    }
                }
            };
        }

        function displaySuiteResults(suiteName, results) {
            const container = document.getElementById('test-results');
            const suiteDiv = document.createElement('div');
            suiteDiv.className = 'test-container';
            
            const title = document.createElement('h2');
            title.textContent = suiteName;
            suiteDiv.appendChild(title);
            
            results.forEach(result => {
                const resultDiv = document.createElement('div');
                resultDiv.className = result.passed ? 'test-result test-pass' : 'test-result test-fail';
                resultDiv.textContent = `${result.passed ? '✓' : '✗'} ${result.name}`;
                if (result.error) {
                    resultDiv.textContent += ` - ${result.error}`;
                }
                suiteDiv.appendChild(resultDiv);
            });
            
            container.appendChild(suiteDiv);
        }

        function displaySummary() {
            const summary = document.getElementById('test-summary');
            summary.innerHTML = `
                Tests completed: ${totalTests}<br>
                Passed: <span style="color: green;">${passedTests}</span><br>
                Failed: <span style="color: red;">${failedTests}</span><br>
                Success Rate: ${((passedTests / totalTests) * 100).toFixed(2)}%
            `;
        }

        // Load and run tests
        document.addEventListener('DOMContentLoaded', function() {
            const script = document.createElement('script');
            script.src = 'user-addition.test.js';
            script.onload = function() {
                displaySummary();
            };
            document.body.appendChild(script);
        });
    </script>
</body>
</html>
